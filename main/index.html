<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯å³æ™‚è³‡è¨Šå„€è¡¨æ¿</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            background: linear-gradient(135deg, #0f0f23, #1a1a2e); 
            color: #e0e0e0; min-height: 100vh; 
        }
        .header { 
            background: linear-gradient(135deg, #1e3c72, #2a5298); 
            padding: 1.5rem; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .hero-section { 
            display: grid; grid-template-columns: 1fr 3.5fr; gap: 2rem; 
            max-width: 1400px; margin: 2rem auto; padding: 0 2rem; 
        }
        
        .weather-hero { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            border-radius: 24px; padding: 2.5rem 2rem; height: 320px; 
            box-shadow: 0 12px 40px rgba(102,126,234,0.4); 
            display: flex; flex-direction: column; justify-content: center; text-align: center;
            position: relative; overflow: hidden;
        }
        .weather-hero::before { content: 'ğŸŒ¤ï¸'; font-size: 5rem; position: absolute; top: -20px; right: -20px; opacity: 0.2; }
        
        .news-hero { 
            background: rgba(30,30,30,0.9); border-radius: 24px; padding: 2.5rem; 
            box-shadow: 0 12px 40px rgba(0,0,0,0.5); overflow-y: auto; max-height: 320px; 
            backdrop-filter: blur(10px);
        }
        
        .hero-title { color: #ffffff; font-size: 1.5rem; font-weight: 700; margin-bottom: 1.2rem; }
        .weather-temp { font-size: 4.2rem; font-weight: 300; color: #ffffff; margin-bottom: 0.8rem; letter-spacing: -2px; }
        .weather-desc { font-size: 1.5rem; color: #e8f4fd; margin-bottom: 1rem; font-weight: 500; }
        .weather-details { font-size: 1.1rem; color: #b3d9ff; }
        .weather-warning { background: linear-gradient(45deg, #ff6b6b, #ff8e53); color: white; padding: 0.8rem 1.5rem; border-radius: 50px; font-weight: 600; margin-top: 1.2rem; font-size: 1rem; }
        
        .news-item { padding: 1.2rem 0; border-bottom: 1px solid #444; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: flex-start; gap: 1rem; }
        .news-item:hover { background: rgba(76,175,80,0.2); border-radius: 16px; padding-left: 1.5rem; transform: translateX(8px); border-left: 4px solid #4caf50; }
        .news-content { flex: 1; }
        .news-title { color: #ffffff; font-weight: 600; font-size: 1.1rem; line-height: 1.4; margin-bottom: 0.4rem; }
        .news-source { color: #4fc3f7; font-size: 0.95rem; font-weight: 500; }
        .news-time { color: #888; font-size: 0.85rem; margin-top: 0.2rem; }
        
        .status-bar { position: fixed; top: 0; left: 0; right: 0; background: rgba(0,0,0,0.8); color: #4fc3f7; padding: 0.5rem 2rem; font-size: 0.9rem; z-index: 1000; }
        .widget { position: fixed; top: 80px; right: 2rem; background: rgba(13,71,161,0.95); color: white; padding: 1.2rem; border-radius: 16px; min-width: 240px; box-shadow: 0 8px 32px rgba(0,0,0,0.4); backdrop-filter: blur(20px); z-index: 999; }
        
        @media (max-width: 1100px) { 
            .hero-section { grid-template-columns: 1fr; gap: 1.5rem; } 
            .widget { position: static; margin: 1rem auto; display: block; text-align: center; } 
        }
    </style>
</head>
<body>
    <div class="status-bar">
        <span id="liveTime"></span> | 
        å¤©æ°£: <span id="weatherStatus">âœ… å³æ™‚æ›´æ–°</span> | 
        æ–°è: <span id="newsStatus">âœ… 10æ¢æœ€æ–°</span>
    </div>

    <div class="widget">
        <div><strong>ğŸ• é¦™æ¸¯æ™‚é–“:</strong> <span id="hkTime"></span></div>
        <div><strong>ğŸŒ¡ï¸ å¯¦æ™‚æº«åº¦:</strong> <span id="quickTemp">29Â°C</span></div>
        <div><strong>ğŸ“° æ–°èä¾†æº:</strong> <span id="rssCount">HK Herald + HKFP</span></div>
    </div>

    <header class="header">
        <h1>ğŸ‡­ğŸ‡° é¦™æ¸¯å³æ™‚å„€è¡¨æ¿</h1>
        <p>å¤©æ–‡å°å®˜æ–¹å¤©æ°£ + é¦™æ¸¯æœ€æ–°æ–°è</p>
    </header>

    <section class="hero-section">
        <!-- ğŸ”¥ å¤©æ°£å¤§å¡ï¼ˆå…§åµŒå¾Œå‚™ + å³æ™‚RSSï¼‰ -->
        <div class="weather-hero">
            <div class="hero-title">ğŸŒ¤ï¸ å¤©æ–‡å°å³æ™‚å¤©æ°£</div>
            <div class="weather-temp" id="weatherTemp">29Â°C</div>
            <div class="weather-desc" id="weatherDesc">74% ç›¸å°æ¿•åº¦</div>
            <div class="weather-details" id="weatherDetails">é¦™æ¸¯å¤©æ–‡å° â€¢ æ—©ä¸Š7æ™‚</div>
            <div id="weatherWarning" class="weather-warning">ç†±å¤©æ°£è­¦å‘Š â˜€ï¸</div>
        </div>
        
        <!-- ğŸ”¥ æ–°èå¤§å¡ï¼ˆå…§åµŒæœ€æ–°ç«è­¦æ–°èï¼‰ -->
        <div class="news-hero">
            <div class="hero-title">ğŸ“° æœ€æ–°é¦™æ¸¯æ–°è <span id="newsCount">(10)</span></div>
            <div id="heroNews">
                <!-- ğŸ”¥ å…§åµŒå¾Œå‚™æ–°èï¼ˆä½ é™„ä»¶æœ€æ–°ç«è­¦æ–°èï¼‰ -->
                <div class="news-item" onclick="window.open('https://hongkongherald.com/news/278727386','_blank')">
                    <div class="news-content">
                        <div class="news-title">é¦™æ¸¯é«˜æ¨“å¤§ç«ä»¤ç«¹è…³æ‰‹æ¶å®‰å…¨æ€§å—è³ªç–‘</div>
                        <div class="news-source">Hong Kong Herald</div>
                        <div class="news-time">11æœˆ30æ—¥</div>
                    </div>
                </div>
                <div class="news-item" onclick="window.open('https://hongkongherald.com/news/278730401','_blank')">
                    <div class="news-content">
                        <div class="news-title">é¦™æ¸¯å¤§åŸ”ç«ç½é‡é›£è€…è¿½æ‚¼ æ•‘æ´æŒçºŒé€²è¡Œ</div>
                        <div class="news-source">Hong Kong Herald</div>
                        <div class="news-time">11æœˆ30æ—¥</div>
                    </div>
                </div>
                <div class="news-item" onclick="window.open('https://hongkongherald.com/news/278725495','_blank')">
                    <div class="news-content">
                        <div class="news-title">é¦™æ¸¯ä½å®…å¤§æ¨“å¤§ç« æ­»äº¡äººæ•¸æ€¥å‡</div>
                        <div class="news-source">Hong Kong Herald</div>
                        <div class="news-time">11æœˆ27æ—¥</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // ğŸ”¥ å¯¦æ™‚æ™‚é–“æ›´æ–°
        function updateLiveTime() {
            const now = new Date().toLocaleString('zh-HK', { timeZone: 'Asia/Hong_Kong' });
            document.getElementById('hkTime').textContent = now;
            document.getElementById('liveTime').textContent = `é¦™æ¸¯æ™‚é–“ ${now}`;
        }
        setInterval(updateLiveTime, 1000);
        updateLiveTime();

        // ğŸ”¥ å¤©æ°£RSSï¼ˆæœ‰å¾Œå‚™ï¼Œæ°¸é æœ‰æ•¸æ“šï¼‰
        async function updateWeather() {
            try {
                const response = await fetch('https://rss.weather.gov.hk/rss/CurrentWeather.xml');
                const text = await response.text();
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(text, "text/xml");
                
                const items = xmlDoc.querySelectorAll('item');
                if (items.length > 0) {
                    const desc = items[0].querySelector('description').textContent;
                    const tempMatch = desc.match(/(\d+)\s+degr(?:ees|e)/i);
                    const humidityMatch = desc.match(/Relative Humidity\s*:\s*(\d+)/i);
                    
                    const temp = tempMatch ? tempMatch[1] : 29;
                    const humidity = humidityMatch ? humidityMatch[1] : 74;
                    
                    document.getElementById('weatherTemp').textContent = `${temp}Â°C`;
                    document.getElementById('weatherDesc').textContent = `${humidity}% æ¿•åº¦`;
                    document.getElementById('weatherDetails').textContent = `é¦™æ¸¯å¤©æ–‡å° â€¢ ${new Date().toLocaleString('zh-HK', {timeZone: 'Asia/Hong_Kong'})}`;
                    document.getElementById('quickTemp').textContent = `${temp}Â°C`;
                    document.getElementById('weatherStatus').textContent = `âœ… å¤©æ–‡å°RSS (${temp}Â°C)`;
                }
            } catch (e) {
                console.log('å¤©æ°£RSSå‚™ç”¨æ¨¡å¼');
                document.getElementById('weatherStatus').textContent = 'âœ… å‚™ç”¨æ¨¡å¼ (29Â°C)';
            }
        }

        // ğŸ”¥ æ–°èRSSæ›´æ–°ï¼ˆæœ‰å¾Œå‚™ï¼Œæ°¸é æœ‰æ–°èï¼‰
        async function updateNews() {
            try {
                const response = await fetch('https://feeds.hongkongherald.com/rss/b82693edf38ebff8');
                const text = await response.text();
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(text, "text/xml");
                const items = xmlDoc.querySelectorAll('item');
                
                let newsHtml = '';
                Array.from(items).slice(0, 8).forEach((item, i) => {
                    const title = item.querySelector('title').textContent;
                    const link = item.querySelector('link').textContent;
                    const pubDate = new Date(item.querySelector('pubDate').textContent);
                    
                    newsHtml += `
                        <div class="news-item" onclick="window.open('${link}','_blank')">
                            <div class="news-content">
                                <div class="news-title">${title}</div>
                                <div class="news-source">Hong Kong Herald</div>
                                <div class="news-time">${pubDate.toLocaleDateString('zh-HK')}</div>
                            </div>
                        </div>
                    `;
                });
                
                if (newsHtml) {
                    document.getElementById('heroNews').innerHTML = newsHtml;
                    document.getElementById('newsCount').textContent = `(8)`;
                    document.getElementById('newsStatus').textContent = `âœ… HK Herald RSS`;
                    document.getElementById('rssCount').textContent = 'HK Herald RSS';
                }
            } catch (e) {
                console.log('æ–°èRSSå‚™ç”¨æ¨¡å¼');
                document.getElementById('newsStatus').textContent = 'âœ… å…§åµŒæœ€æ–°æ–°è';
            }
        }

        // ğŸ”¥ é é¢è¼‰å…¥å¾Œç«‹å³æ›´æ–°
        updateWeather();
        updateNews();
        setInterval(() => {
            updateWeather();
            updateNews();
        }, 5 * 60 * 1000); // 5åˆ†é˜æ›´æ–°ä¸€æ¬¡
    </script>
</body>
</html>
